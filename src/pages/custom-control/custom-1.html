<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes" name="viewport"/>
  <title>Custom Control 1</title>
  <link href="../../resources/css/fore.css" rel="stylesheet">
  <link href="../../resources/css/tutorial.css" rel="stylesheet">
  <script type="module">
    import '../../../node_modules/@polymer/iron-demo-helpers/demo-snippet.js';
    import '../../../node_modules/@polymer/iron-demo-helpers/demo-pages-shared-styles.js';
    import '../../../node_modules/jinn-codemirror/dist/jinn-codemirror-bundle.js';
    import '../index.js';
  </script>

  <style>
    fx-control, jinn-codemirror{
      width: 100%;
    }
  </style>
</head>
<body>
<!--<img class="background" src="../resources/images/cool-background.svg">-->
<div class="wrapper">
  <nav>
    <a href="../todo/todo-11.html">prev</a>
    <a href="../index.html">overview</a>
    <a href="../functions/functions-1.html">next</a>
  </nav>
  <nav class="bottom">
    <a href="../index.html">overview</a>
    <a href="../index.html">overview</a>
    <a href="../functions/functions-1.html">next</a>
  </nav>


  <h1>Using Web Components as control</h1>
  <demo-snippet>
    <template>

<fx-fore>
  <fx-model>
    <fx-instance>
      <data>
<xml>
  <references>
    <ref id="123">The first ref!</ref>
    <ref id="abc">The second ref!</ref>
  </references>
  <main>
    <not-a-ref>Not a ref here!</not-a-ref>
    <ref link="123">I should be replaced!</ref>
    <not-a-ref>Not a ref here!</not-a-ref>
    <ref link="abc">I should also be replaced!</ref>
    <not-a-ref>Not a ref here!</not-a-ref>
  </main>
</xml>
      </data>
    </fx-instance>
  </fx-model>

  <h2>Binding a jinn-codemirror as widget</h2>
  <fx-control ref="//xml" as="node" update-event="update">
    <jinn-codemirror mode="xml" class="widget"></jinn-codemirror>
  </fx-control>

  <pre><code>{log('default')}</code></pre>
</fx-fore>
    </template>
  </demo-snippet>


  <h2>Key Facts</h2>

  <ul>
    <li>All but <code>input</code> elements need to add class "widget" to the respective element. <code>fx-control</code>
    will listen to changes of the widget and pass in the value of the bound modelItem.</li>
    <li>Usually all bound nodes are simple textnodes. However with <code>as="node"</code> the bound node
    will be passed in to the widget.</li>
    <li><code>update-event</code> attribute allows to configure the event <code>fx-control</code> listens
    to for value-changes that are passed to model.</li>
  </ul>
</div>


</body>
</html>
